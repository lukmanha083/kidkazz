# Wrangler config for seeding test data
#
# This worker seeds test data in Product and Inventory databases for migration testing:
# - Creates warehouses in Inventory DB
# - Creates products, categories, variants, and UOMs in Product DB
# - Creates product_locations, variant_locations, and product_uom_locations in Product DB
#
# Usage:
#   1. Navigate to scripts directory: cd scripts
#   2. Start locally: npx wrangler dev seed-test-data.ts --config wrangler-seed.toml --local
#   3. Seed data: curl -X POST "http://localhost:8788/seed"
#   4. Clear data: curl -X POST "http://localhost:8788/clear"

name = "seed-test-data"
main = "seed-test-data.ts"
compatibility_date = "2024-11-14"
compatibility_flags = ["nodejs_compat"]

# Product Service Database
[[d1_databases]]
binding = "PRODUCT_DB"
database_name = "product-db"
database_id = "43857977-dffc-4978-bbc9-b64d0f60bc69"

# Inventory Service Database
[[d1_databases]]
binding = "INVENTORY_DB"
database_name = "inventory-db"
database_id = "904fdb02-3a8f-4bb6-9117-5008f6deb3ae"
